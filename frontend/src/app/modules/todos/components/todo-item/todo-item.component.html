<div class="box is-flex is-justify-content-space-between is-align-items-center"
  [class.opacity-50]="isDeleting$ | async"
  (swipeleft)="onSwipeLeft()" (swiperight)="onSwipeRight()">
  <div class="is-flex is-align-items-center">
    <div class="mr-2 delete-icon" [class.is-open]="isDeleteOpen">
      <a class="icon" (click)="onDelete()">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
          width="24" height="24"
          viewBox="0 0 172 172"
          style=" fill:#000000;">
          <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
            stroke-linejoin="miter"
            stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none"
            font-size="none" text-anchor="none" style="mix-blend-mode: normal">
            <path d="M0,172v-172h172v172z" fill="none"></path>
            <g fill="#f14668">
              <path
                d="M71.66667,14.33333l-7.16667,7.16667h-43v14.33333h129v-14.33333h-43l-7.16667,-7.16667zM31.28418,50.16667l12.20573,107.5h85.02018l12.20573,-107.5z">
              </path>
            </g>
          </g>
        </svg>
      </a>
    </div>
    <div>
      <p class="subtitle">
        {{ todo.body }}
      </p>
    </div>
  </div>
  <div class="is-flex is-align-items-center">

    <div class="complete-icon" [class.is-open]="!isDeleteOpen && !isEditOpen">
      <a class="icon" (click)="onComplete()" *ngIf="!(isUpdating$ | async); else spinner">
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px" y="0px" viewBox="0 0 17.837 17.837" style="enable-background:new 0 0 17.837 17.837;"
          xml:space="preserve">
          <g>
            <path d="M16.145,2.571c-0.272-0.273-0.718-0.273-0.99,0L6.92,10.804l-4.241-4.27
              c-0.272-0.274-0.715-0.274-0.989,0L0.204,8.019c-0.272,0.271-0.272,0.717,0,0.99l6.217,6.258c0.272,0.271,0.715,0.271,0.99,0
              L17.63,5.047c0.276-0.273,0.276-0.72,0-0.994L16.145,2.571z"
              [ngStyle]="{ fill: todo.isCompleted ? '#00d1b2' : '#ddd' }" />
          </g>
        </svg>
      </a>
      <ng-template #spinner>
        <div class="spinner-container">
          <svg class="spinner" viewBox="0 0 50 50">
            <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
          </svg>
        </div>
      </ng-template>
    </div>

    <div class="edit-icon" [class.is-open]="isEditOpen">
      <a class="icon" routerLink="/todos/{{ todo.id }}/edit">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
          width="24" height="24"
          viewBox="0 0 172 172"
          style=" fill:#000000;">
          <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
            stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none"
            font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal">
            <path d="M0,172v-172h172v172z" fill="none"></path>
            <g fill="#485fc7">
              <path
                d="M132.92788,1.65385c-3.92788,-0.02584 -7.77824,1.36959 -10.75,4.34135l-6.61538,6.82212l43.62019,43.82692l6.61538,-6.82212c5.96935,-5.96935 6.02103,-15.65985 0,-21.70673l-21.91346,-21.91346c-3.02344,-3.02344 -7.02885,-4.52224 -10.95673,-4.54808zM108.12019,18.8125l-10.33654,9.92308l45.48077,45.48077l10.54327,-9.71635zM91.16827,35.97115l-71.52885,70.90865c-1.65385,0.85276 -2.84254,2.35156 -3.30769,4.13462l-15.29808,51.88942c-0.69772,2.27404 -0.07753,4.78065 1.60217,6.46034c1.67969,1.67969 4.18629,2.29988 6.46033,1.60216l51.88942,-15.29808c2.40324,-0.36178 4.39303,-2.04147 5.16827,-4.34135l70.49519,-69.875l-9.71635,-9.71635l-72.35577,72.5625l-29.14904,8.47596l-6.20192,-6.20192l8.88942,-30.38942l71.73558,-71.52885zM106.87981,51.88942l-72.5625,72.76923l10.54327,2.27404l1.44712,9.71635l72.76923,-72.5625z">
              </path>
            </g>
          </g>
        </svg>
      </a>
    </div>

  </div>
</div>
